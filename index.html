<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<title>Agent IA – Demo</title>

<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600&display=swap" rel="stylesheet">

<style>
body{
 font-family: Inter, sans-serif;
 background:#0f172a;
 color:white;
 display:flex;
 justify-content:center;
 align-items:center;
 height:100vh;
 margin:0;
}

.container{
 width:420px;
 background:#111827;
 border-radius:18px;
 padding:20px;
 box-shadow:0 20px 60px rgba(0,0,0,0.5);
}

.header{
 font-size:18px;
 font-weight:600;
 margin-bottom:10px;
 color:#38bdf8;
}

.chat{
 height:420px;
 overflow-y:auto;
 background:#020617;
 padding:12px;
 border-radius:12px;
 margin-bottom:10px;
}

.msg{
 margin:8px 0;
 padding:10px;
 border-radius:10px;
 max-width:80%;
}

.user{
 background:#2563eb;
 align-self:flex-end;
 margin-left:auto;
}

.bot{
 background:#1e293b;
}

.inputbox{
 display:flex;
 gap:10px;
}

input{
 flex:1;
 padding:12px;
 border-radius:10px;
 border:none;
 background:#020617;
 color:white;
}

button{
 padding:12px 16px;
 border:none;
 border-radius:10px;
 background:#38bdf8;
 color:black;
 font-weight:600;
 cursor:pointer;
}

.loader{
 width:18px;
 height:18px;
 border:3px solid #38bdf8;
 border-top:3px solid transparent;
 border-radius:50%;
 animation:spin 1s linear infinite;
 margin:auto;
}

@keyframes spin{
 to{transform:rotate(360deg)}
}
</style>
</head>

<body>

<div class="container">
 <div class="header"> Agent IA – Demo Technique</div>

 <div id="chat" class="chat"></div>

 <div class="inputbox">
  <input id="msg" placeholder="Pose une question...">
  <button onclick="send()">Envoyer</button>
 </div>
</div>

<script>

const webhook = "https://abdotay23.app.n8n.cloud/webhook-test/chat-test";

function addMessage(text,cls){
 const div=document.createElement("div");
 div.className="msg "+cls;
 div.innerText=text;
 document.getElementById("chat").appendChild(div);
 document.getElementById("chat").scrollTop=9999;
}

function send(){
 const input=document.getElementById("msg");
 const text=input.value;
 if(!text) return;

 addMessage(text,"user");
 input.value="";

 const loader=document.createElement("div");
 loader.className="loader";
 document.getElementById("chat").appendChild(loader);

 fetch(webhook,{
  method:"POST",
  headers:{
   "Content-Type":"application/json"
  },
  body:JSON.stringify({
   message:text
  })
 })
 .then(r=>r.json())
 .then(d=>{
  loader.remove();
  addMessage(d.reply,"bot");
 })
 .catch(e=>{
  loader.remove();
  addMessage("Erreur connexion IA","bot");
 });
}

</script>
</body>
</html>


